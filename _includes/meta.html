<!-- Ensures will work with posts and pages -->
{%- if page.date -%}
  {%- assign p = page -%}
  {%- assign align = 'center' -%}
{%- else -%}
  {%- assign p = post -%}
  {%- assign align = 'left' -%}
{% endif %}

<p class="post-meta" {{ align | prepend: 'style= "text-align: ' | append: ';"'}}>
  <!-- Date the post was originally published -->
  <time class="dt-published" datetime="{{ p.date | date_to_xmlschema }}" itemprop="datePublished">
    {{ p.date | date: site.date_format }}
  </time>
  {%- assign original_date = p.original_date -%}
  {%- assign modified_date = p.modified_date -%}
  <!-- If post was modified, include that date after a tilde inside the post -->
  {%- if p.modified_date -%}
    {%- assign modified_date = modified_date | date: site.date_format | prepend: 'Updated on ' -%}
    {%- assign original_date = original_date | append: '*' -%}
  {%- endif -%}
  <time title="{{ modified_date }}" class="dt-published" datetime="{{ p.date | date_to_xmlschema }}" itemprop="datePublished">
    {{ original_date }}
  </time>
  <!-- After cdot, include time it takes to read post content -->
  • {%- include reading-time.html text=p.content -%}
  <!-- If author(s) specified, after cdot include them at the end -->
  {%- if p.author -%}
    •
    {% for author in p.author %}
      <!-- TODO work out what this junk is for -->
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-author h-card" itemprop="name">{{ author }}</span>
      </span>
      <!-- Separate multiple authors by commas -->
      {%- if forloop.last == false %}, {% endif -%}
    {% endfor %}
  {%- endif -%}   
</p>